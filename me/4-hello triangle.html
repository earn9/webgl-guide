<canvas id="canvas" width=400 height=400></canvas>
<script src="webgl.js"></script>
<script>
var gl = canvas.getContext("webgl");

// Vertex shader
var vshader = `
attribute vec4 pos;
void main() {
  gl_Position = pos;
}`;

// Fragment shader
var fshader = `
precision mediump float;
uniform vec4 color;
void main() {
  gl_FragColor = color;
}`;

// Compile program
var program = compile(gl, vshader, fshader);

// Get shaders attributes and uniforms
var pos = gl.getAttribLocation(program, 'pos');
var color = gl.getUniformLocation(program, 'color');

// Set color
gl.uniform4f(color, 1.0, 0.0, 0.0, 1.0);

// Fill a buffer with pairs of x/y coordinates and pass them to the pos attribute of the vertex shader 
var vertices = new Float32Array([0, 0.5,   -0.5, -0.5,   0.5, -0.5]);
var buffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
gl.vertexAttribPointer(
  pos,      // target
  2,        // size
  gl.FLOAT, // type
  false,    // normalize
  0,        // stride
  0         // offset
);
gl.enableVertexAttribArray(pos);

// Clear canvas
gl.clear(gl.COLOR_BUFFER_BIT);

// Render
gl.drawArrays(gl.TRIANGLES, 0, 3); // draw 3 vertices as a triangle
</script>